* DONE SPRUT - (СЮДА , НА ВСЯКИЙ СЛУЧАЙ,  СПИХНУТО ВСЕ ЧТО НЕ НУЖНО, ДЕЙСТВУЮЩИЙ TODO СМОТРИ НИЖЕ)   
  CLOSED: [2016-01-15 Пт 10:50]
** TODO <<<< ПОКА НЕ ЗАДЕЙСТВОВАНО ОБХОДИМСЯ OSPF + VPN КАНАЛЫ >>>>  Мониторинг маршрутов (клиент/сервер) 
*** DONE автоматическое переключение с основного канала связи на резервный;
    CLOSED: [2015-10-19 Пн 09:24]
*** DONE индикация на клиенте об наличии каналов связи (выкидывать в json формате?);
    CLOSED: [2015-10-19 Пн 08:58]
*** DONE список приоритетов;
    CLOSED: [2015-10-19 Пн 08:57]
*** индикация на сервере об наличии каналов связи (выкидывать в json формате?);
*** подумать что делать когда вообще нету каналов;
** Openvpn клиент:
*** Если openvpn интерфейс tap поднялся, то организуем мост:  
**** Получаем ip от openvpn сервера
**** Удаляем ip eth0 (интерфейс локальной сети)
**** Сохраняем ip tap4 (интерфейс openvpn) 
**** Удаляем ip tap4 (интерфейс openvpn)
**** Создаем мост vpn4 
**** Добавляем в vpn4 eth0   
**** Добавляем в vpn4 tap4   
**** Назначаем ip vpn4 тот что получен tap4
*** Если openvpn интерфейс tap упал, то разбираем мост:
**** Удаляем eth0 из  vpn4  
**** Удаляем tap4 из  vpn4  
**** Удаляем vpn4  
**** Перезапускаем netconf
*** Куда деваем вкл/выкл мост:
** Нужно чтобы настройки netconf не перебивали настроек openvpn
*** Если openvpn интерфейс tun поднялся, пробрасываем порты:  
** Openvpn сервер:
*** tun интерфейс:
**** Делаем "таблицу абонентов":
***** Имя_ключа_клиента_VPN
***** Ip_клиента_VPN
***** Подсеть_локальной_сети_клиента
***** Маска_локальной_сети_клиента
**** Записываем в конфиг openvpn (генерим каждый раз при загрузке из таблицы абонентов): 
***** Подсеть_локальной_сети_клиента/Маска_локальной_сети_клиента
***** Ip_клиента_VPN (шлюз)
**** Записываем в ipp.txt (генерим каждый раз при загрузке из таблицы абонентов):
***** Имя_ключа_клиента_VPN
***** Ip_клиента_VPN (шлюз)
** Демон ipnotyfyd 
*** запихать запуск ipnotyfyd в запуск  netconf или сделать зависимость запуска одного от другого 
*** упростить  ipnotyfyd ( только реакция на события и все ) 



